#
# udp_forward configuration file, in jSON format.
#
{
  # Note: These comment lines must be striped from this file before attempting to parse it as pure JSON.
  
  # Configuration file for the CHORDS udp_forward program.
  # The :re_terms and :template fields contain Ruby RegExp patterns. 
  #
  # :template specifies a ruby RegExp that is used to decode the incoming datagram.
  # The () sections idendify a value that will be paired with the successive :short_name(s).
  #
  # :re_terms specify strings that can be substituted into the :template string,
  # so that the template strings don't get unwieldy.
  # 
  # If using the backslash character (likely), it must be escaped so that it can pass 
  # through the json parsing.
  
  # The host that HTTP GET will be sent to.
  "chords_host": "chords.dyndns.org",
  
  # These terms will replace tokens of the same name in the template.
  "re_terms": [ 
    # Match a floating point number
    ["_fp_", "[-+]?[0-9]*\\.?[0-9]+"]
  ],
    
  # An array of instruments that will be received and forwarded. 
  "instruments": {
   "FL": { 
       "enabled":    true,
       "port":       29110,
       "sample":     "1R0,Dm=077D,Sm=1.2M,Sx=2.4M,Ta=29.0C,Ua=27.5P,Pa=838.2H,Rc=317.20M,Vs=18.2V",
       "template":   "1R0,Dm=(_fp_)D,Sm=(_fp_)M,Sx=(_fp_)M,Ta=(_fp_)C,Ua=(_fp_)P,Pa=(_fp_)H,Rc=(_fp_)M,Vs=(_fp_)V",
       "short_names": ["wdir", "wspd", "wmax","tdry","rh","pres","raintot", "batt"]
    },
    
   "ML": { 
       "enabled":    false,
       "port":       29111,
       "sample":     "1R0,Dm=358D,Sm=3.1M,Sx=7.0M,Ta=26.5C,Ua=27.0P,Pa=813.5H,Rc=453.20M,Vs=13.9V",
       "template":   "1R0,Dm=([0-9]*.[0-9]*)D,Sm=([0-9.]*)M,Sx=([0-9.]*)M",
       "short_names": ["wdir", "wspd", "wmax","tdry","rh","pres","raintot", "batt"]
    },
    
   "NWSC": { 
       "enabled":    false,
       "port": 29113,
       "sample":     "1r0,Dm=001D,Sm=5.0M,Sx=6.8M,Ta=21.6C,Ua=42.3P,Pa=806.3H,Rc=420.80M,Vs=12.4VMXu",
       "template":   "100,Dm=([0-9]*.[0-9]*)D,Sm=([0-9.]*)M,Sx=([0-9.]*)M",
       "short_names": ["wdir", "wspd", "wmax","tdry","rh","pres","raintot", "batt"]
    }
  }
}